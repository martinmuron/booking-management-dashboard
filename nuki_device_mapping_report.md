# COMPREHENSIVE NUKI DEVICE MAPPING REPORT
## Last 30 Reservations - Address-Based Mapping

**Generated:** 2025-09-29T11:45:04.137Z
**System:** Address-based mapping (using HostAway listing addresses)

---

## SUMMARY BY BUILDING:

### Prokopova 197/9
- **Reservations:** 16
- **Keys per unit:** 4
- **Unique properties:** 10

### Non-Nuki Property
- **Reservations:** 14
- **Keys per unit:** 0
- **Unique properties:** 10

---

## DETAILED MAPPING BY RESERVATION:

### 1. BK_48199661
- **Property:** Smart studio in Žižkov near tram (104)
- **Check-in:** 2025-09-29
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 104

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_104_ID (Room 104)

---

### 2. BK_48199594
- **Property:** Big 4-bedroom flat, terrace with great Vítkov view
- **Check-in:** 2026-05-06
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 3. BK_48197870
- **Property:** Flat in Zizkov (303)
- **Check-in:** 2026-03-26
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 303

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_303_ID (Room 303)

---

### 4. BK_48075620
- **Property:** Betlémské
- **Check-in:** 2025-12-20
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 5. BK_48063965
- **Property:** Betlémské
- **Check-in:** 2025-11-07
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 6. BK_48181572
- **Property:** Ž501
- **Check-in:** 2026-07-02
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 501

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_501_ID (Room 501)

---

### 7. BK_48178151
- **Property:** Ž204
- **Check-in:** 2025-10-18
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 204

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_204_ID (Room 204)

---

### 8. BK_48177884
- **Property:** Křižíkova 2
- **Check-in:** 2026-08-14
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 9. BK_48177850
- **Property:** Křižíkova 2
- **Check-in:** 2026-08-12
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 10. BK_48177139
- **Property:** Heřmanova
- **Check-in:** 2025-11-28
- **Status:** PAYMENT_COMPLETED
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 11. BK_48177069
- **Property:** Konviktská 17
- **Check-in:** 2026-03-26
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 12. BK_48176779
- **Property:** Ž004
- **Check-in:** 2025-10-07
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 004

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_004_ID (Room 004)

---

### 13. BK_48170888
- **Property:** Apartment in Zizkov  (302)
- **Check-in:** 2025-09-28
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 302

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_302_ID (Room 302)

---

### 14. BK_48170799
- **Property:** Ž201
- **Check-in:** 2025-10-24
- **Status:** CANCELLED
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 201

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_201_ID (Room 201)

---

### 15. BK_48170741
- **Property:** Ž501
- **Check-in:** 2025-12-21
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 501

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_501_ID (Room 501)

---

### 16. BK_48169935
- **Property:** KS Big
- **Check-in:** 2026-04-20
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 17. BK_48169677
- **Property:** Ž501
- **Check-in:** 2026-04-07
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 501

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_501_ID (Room 501)

---

### 18. BK_48168163
- **Property:** Schnirchova
- **Check-in:** 2026-06-25
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 19. BK_48165210
- **Property:** Ž004
- **Check-in:** 2025-10-26
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 004

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_004_ID (Room 004)

---

### 20. BK_48163957
- **Property:** Ž601
- **Check-in:** 2026-06-30
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 601

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_601_ID (Room 601)

---

### 21. BK_48163403
- **Property:** Ž201
- **Check-in:** 2025-12-08
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 201

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_201_ID (Room 201)

---

### 22. BK_48160724
- **Property:** Křižíkova 2
- **Check-in:** 2025-10-20
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 23. BK_48159140
- **Property:** Křižíkova 2
- **Check-in:** 2026-09-08
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 24. BK_48155177
- **Property:** Ž004
- **Check-in:** 2025-12-19
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 004

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_004_ID (Room 004)

---

### 25. BK_48147930
- **Property:** Ž101
- **Check-in:** 2025-09-29
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 101

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_101_ID (Room 101)

---

### 26. BK_48143606
- **Property:** Ž302
- **Check-in:** 2026-06-26
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 302

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_302_ID (Room 302)

---

### 27. BK_48143285
- **Property:** Ž302
- **Check-in:** 2026-03-24
- **Status:** PENDING
- **Expected Address:** Prokopova 197/9, 130 00 Praha 3-Žižkov (EXPECTED)
- **Building:** Prokopova 197/9
- **Room Number:** 302

**Key Configuration:**
- **Key Types:** MAIN_ENTRANCE, ROOM, LUGGAGE_ROOM, LAUNDRY_ROOM

**Device Mapping:**
- MAIN_ENTRANCE → NUKI_MAIN_ENTRANCE_ID (Prokopova Main Door)
- LUGGAGE_ROOM → NUKI_LUGGAGE_ROOM_ID (Prokopova Luggage)
- LAUNDRY_ROOM → NUKI_LAUNDRY_ROOM_ID (Prokopova Laundry)
- ROOM → NUKI_ROOM_302_ID (Room 302)

---

### 28. BK_48141791
- **Property:** Mikulov
- **Check-in:** 2025-11-09
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 29. BK_48140530
- **Property:** Konviktská 3
- **Check-in:** 2025-12-12
- **Status:** PENDING
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

### 30. BK_48137019
- **Property:** Cozy apartment in hipster area
- **Check-in:** 2025-09-27
- **Status:** CANCELLED
- **Expected Address:** Other address (Non-Nuki property)
- **Building:** Non-Nuki Property
- **Room Number:** N/A

**Key Configuration:**
- **Key Types:** NONE (No Nuki access)

**Device Mapping:**
- NO NUKI ACCESS - Non-Nuki property

---

## CONFIGURATION VERIFICATION:

### Prokopova 197/9 Building (Main Building)
**Properties that should get 4 keys:**
- Smart studio in Žižkov near tram (104) (BK_48199661)
- Flat in Zizkov (303) (BK_48197870)
- Ž501 (BK_48181572)
- Ž204 (BK_48178151)
- Ž004 (BK_48176779)
- Apartment in Zizkov  (302) (BK_48170888)
- Ž201 (BK_48170799)
- Ž501 (BK_48170741)
- Ž501 (BK_48169677)
- Ž004 (BK_48165210)
- Ž601 (BK_48163957)
- Ž201 (BK_48163403)
- Ž004 (BK_48155177)
- Ž101 (BK_48147930)
- Ž302 (BK_48143606)
- Ž302 (BK_48143285)

### Single-Key Properties
**Bořivojova 50:**
- None in last 30 reservations

**Řehořova:**
- None in last 30 reservations

### Non-Nuki Properties
**No key generation:**
- Big 4-bedroom flat, terrace with great Vítkov view (BK_48199594)
- Betlémské (BK_48075620)
- Betlémské (BK_48063965)
- Křižíkova 2 (BK_48177884)
- Křižíkova 2 (BK_48177850)
- Heřmanova (BK_48177139)
- Konviktská 17 (BK_48177069)
- KS Big (BK_48169935)
- Schnirchova (BK_48168163)
- Křižíkova 2 (BK_48160724)
- Křižíkova 2 (BK_48159140)
- Mikulov (BK_48141791)
- Konviktská 3 (BK_48140530)
- Cozy apartment in hipster area (BK_48137019)

---

## SYSTEM IMPLEMENTATION STATUS:

✅ **Address-based mapping implemented**
✅ **All key generation scenarios use address lookup**
✅ **Fallback to property name parsing**
✅ **Room-specific device assignment**

**Note:** This mapping is now based on the actual HostAway listing address fetched at runtime, ensuring 100% accuracy regardless of property name variations.
